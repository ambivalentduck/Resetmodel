clc
clear all

global l1 w1 l2 w2 x0

%%assume two link
l1=.5;
w1=1;
l2=.5;
w2-1;
x0=[0, -.5]; %Base of robot at half an arm length toward user from center of workspace
%Consequence: Workspace is a circle within the arm's semicircle of reach

syms x y t theta1 theta2 real;
theta=[theta1; theta2];
p=[x; y];

fk=fkin(theta);
ik=ikin(p);

t=0:.01:1;
xd=minjerk([-.2 -.2],[.2 .2],[0 0],[0 0],t);
T=length(t);

%Command torques based on Jacobian, so build one
J1=[diff(ik(1),x),diff(ik(1),y);
    diff(ik(2),x),diff(ik(2),y)];

J2=[diff(ik(1),x,2),diff(ik(1),y,2);
    diff(ik(2),x,2),diff(ik(2),y,2)];

%write J2 to a file
fid=fopen('J2.m','w');



% J2 is d2_ik/dp2, so J2*a is d2_ik/dt2 via chain rule